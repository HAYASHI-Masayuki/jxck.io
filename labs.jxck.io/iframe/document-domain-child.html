<!DOCTYPE html>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1">
<title>document.domain child DEMO | labs.jxck.io</title>

<h1>document.domain child DEMO</h1>

<p id='msg'></p>

<button id=pong>pong</button>

<script>
  EventTarget.prototype.on  = EventTarget.prototype.addEventListener
  EventTarget.prototype.off = EventTarget.prototype.removeEventListener
  const $ = document.querySelector.bind(document)

  document.domain = "jxck.io"

  window.on('load', (e) => {

    console.log(window.parent.document.querySelector('h1'))

    $('#pong').on('click', (e) => {
      window
        .parent
        .document
        .querySelector('#msg')
        .textContent += 'pong'
    })
  })
</script>
