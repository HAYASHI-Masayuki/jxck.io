<!DOCTYPE html>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1">
<title>Resource Timing DEMO</title>

<h1>Test</h1>

<link rel="stylesheet" href="test.css" />
<img width=100 height=100 src=https://logo.jxck.io/jxck.png>
<script src=script.js></script>

<pre><!-- for debug out --></pre>

<script>
  'use strict';
  const $  = document.querySelector.bind(document)
  const $$ = document.querySelectorAll.bind(document)
  EventTarget.prototype.on = EventTarget.prototype.addEventListener

  const observer = new PerformanceObserver((list) => {
    for (const entry of list.getEntries()) {
      console.log(entry.name)
      console.log(entry.contentType)
      console.log(entry.contentEncoding)
      $('pre').textContent += `
        name: ${entry.name}
        contentType: ${entry.contentType}
        contentEncoding: ${entry.contentEncoding}
      `
    }
  })
  observer.observe({
    type: 'resource',
    buffered: true
  })
</script>
