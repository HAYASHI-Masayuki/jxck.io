<!DOCTYPE html>
<meta charset=utf-8>

<title>Intl.DateTimeFormat Labs | labs.jxck.io</title>

<h1>Intl.DateTimeFormat Labs</h1>

<p>yyyy/mm/dd: <time id="slash"><time></p>
<p>yyyy-mm-dd: <time id="hyphen"><time></p>

<script>
function yyyymmdd(date) {
  const formatter = new Intl.DateTimeFormat(`ja-jp`, { year: `numeric`, month: `2-digit`, day: `2-digit` })
  return formatter.format(date)
}

document.querySelector('#slash').textContent = yyyymmdd(new Date())

function yyyy_mm_dd(date) {
  const formatter = new Intl.DateTimeFormat("ja-jp", { year: `numeric`, month: `2-digit`, day: `2-digit` })
  const parts = formatter.formatToParts(date).map(({type, value}) => [type, value])
  const { year, month, day } = Object.fromEntries(parts)
  return `${year}-${month}-${day}`
}

yyyy_mm_dd(new Date()) // 2023-04-11

document.querySelector('#hyphen').textContent = yyyy_mm_dd(new Date())
</script>