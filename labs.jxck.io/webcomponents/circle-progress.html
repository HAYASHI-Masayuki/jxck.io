<!DOCTYPE html>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1">
<title>DEMO</title>

<h1>Test</h1>

<style>
circle-progress  {
  display: block;
  width: 30px
}
</style>


<circle-progress max=100 value=0></circle-progress>


<script type=module>
  'use strict';
  const $  = document.querySelector.bind(document)
  const $$ = document.querySelectorAll.bind(document)
  EventTarget.prototype.on = EventTarget.prototype.addEventListener

  import CircleProgress from './circle-progress.mjs'

  customElements.define('circle-progress', CircleProgress)

  document.on('DOMContentLoaded', (e) => {
    const $circle = $('circle-progress')
    $circle.setAttribute('max',  100)

    function up(value) {
      console.log(value)
      $circle.setAttribute('value', value)
      if (value > 100) return
      setTimeout(() => {
        up(value += 1)
      }, 100)
    }
    up(0)
  })
</script>
